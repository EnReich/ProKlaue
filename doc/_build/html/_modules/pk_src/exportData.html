<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pk_src.exportData &mdash; ProKlaue 0.2.8 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.2.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="ProKlaue 0.2.8 documentation" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for pk_src.exportData</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Command cmds.exportData</span>

<span class="sd">Exports the specified information for a list of objects for a whole animation. Information will be written to separate files. The files name will be the objects name with a possible prefix. The files itself will contain a tab-separated table with one entry/row for each animation time step. Because the whole export runs in Maya&#39;s main thread, there is currently no possibility to cancel already started export commands and one needs to wait until the export is finished which, depending on the length of the animation and number of selected objects, can take a few minutes. The current progress of the export always shows the active time frame and for each selected object the whole animation will run through once.</span>
<span class="sd">All the information will be tracked via maya&#39;s space locators which sometimes may show unexpected behaviour.</span>

<span class="sd">Args:</span>
<span class="sd">    path (p): path to target directory</span>
<span class="sd">    filePrefix (fp): prefix of all files</span>
<span class="sd">    centerMethod (cm): string &#39;centerPoint&#39; (default) to use average of all points as position, &#39;centroidPoint&#39; to use weighted mean of triangle centroid and area as position or &#39;centerOBB&#39; to use center of oriented bounding box as position (only when &#39;align&#39; is True)</span>
<span class="sd">    fast (f): flag to indicate if covariance matrix should use the convex hull (TRUE) or all points (FALSE) (default FALSE)</span>
<span class="sd">    writeTransformM (tm): flag to indicate if transform matrix shall be written to file</span>
<span class="sd">    writeTranslation (wt): flag to indicate if translation shall be written to file</span>
<span class="sd">    writeAngles (wa): flag to indicate if projected angles shall be written to file</span>
<span class="sd">    writeRotations (wr): flag to indicate if rotation values shall be written to file</span>
<span class="sd">    axisOrder (ao): string with axis ordering of eigenvectors (default &#39;yzx&#39;)</span>
<span class="sd">    animationStart (as): first time step where information shall be exported</span>
<span class="sd">    animationEnd (ae): last time step where information shall be exported</span>
<span class="sd">    animationStep (by): time difference between two animation frames (default 1.0)</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">maya.OpenMaya</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">import</span> <span class="nn">maya.OpenMayaMPx</span> <span class="kn">as</span> <span class="nn">OpenMayaMPx</span>
<span class="kn">import</span> <span class="nn">maya.cmds</span> <span class="kn">as</span> <span class="nn">cmds</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">import</span> <span class="nn">misc</span>

<span class="k">class</span> <span class="nc">exportData</span><span class="p">(</span><span class="n">OpenMayaMPx</span><span class="o">.</span><span class="n">MPxCommand</span><span class="p">):</span>
    <span class="n">windowID</span> <span class="o">=</span> <span class="s1">&#39;wExportData&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">OpenMayaMPx</span><span class="o">.</span><span class="n">MPxCommand</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__cancelCallback</span><span class="p">(</span><span class="o">*</span><span class="n">pArgs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cmds</span><span class="o">.</span><span class="n">window</span><span class="p">(</span><span class="n">exportData</span><span class="o">.</span><span class="n">windowID</span><span class="p">,</span> <span class="n">exists</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">deleteUI</span><span class="p">(</span><span class="n">exportData</span><span class="o">.</span><span class="n">windowID</span><span class="p">)</span>

    <span class="c1"># wrapper to handle UI-interaction and execute command with specified flags</span>
    <span class="k">def</span> <span class="nf">__applyCallback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">FFstart</span><span class="p">,</span> <span class="n">FFend</span><span class="p">,</span> <span class="n">FFstep</span><span class="p">,</span> <span class="n">RCcenterMethod</span><span class="p">,</span> <span class="n">CHjointHierarchy</span><span class="p">,</span> <span class="n">OMaxisOrder</span><span class="p">,</span> <span class="n">CBfast</span><span class="p">,</span> <span class="n">CBcenterPoint</span><span class="p">,</span> <span class="n">CBwr</span><span class="p">,</span> <span class="n">CBtm</span><span class="p">,</span> <span class="n">CBwa</span><span class="p">,</span> <span class="o">*</span><span class="n">pArgs</span><span class="p">):</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;p&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">textField</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;fp&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">textField</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;as&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">floatField</span><span class="p">(</span><span class="n">FFstart</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ae&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">floatField</span><span class="p">(</span><span class="n">FFend</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;by&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">floatField</span><span class="p">(</span><span class="n">FFstep</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">CBfast</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;cm&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">radioCollection</span><span class="p">(</span><span class="n">RCcenterMethod</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sl</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;wt&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">CBcenterPoint</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;jh&#39;</span><span class="p">:</span> <span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">CHjointHierarchy</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;wr&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">CBwr</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;tm&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">CBtm</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;wa&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">CBwa</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ao&#39;</span><span class="p">:</span><span class="n">cmds</span><span class="o">.</span><span class="n">optionMenu</span><span class="p">(</span><span class="n">OMaxisOrder</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)}</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">exportData</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="c1"># function to handle file dialogs and update corresponding text field</span>
    <span class="k">def</span> <span class="nf">__fileDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="o">*</span><span class="n">pArgs</span><span class="p">):</span>
        <span class="n">selFile</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">fileDialog2</span><span class="p">(</span><span class="n">fm</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">cap</span> <span class="o">=</span> <span class="s1">&#39;specify export directory&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">selFile</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">textField</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">edit</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="n">selFile</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">createUI</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">pArgs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cmds</span><span class="o">.</span><span class="n">window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windowID</span><span class="p">,</span> <span class="n">exists</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">deleteUI</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windowID</span><span class="p">)</span>
        <span class="c1"># initialize window properties</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windowID</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;exportDataUI&#39;</span><span class="p">,</span> <span class="n">sizeable</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">resizeToFitChildren</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">columnLayout</span><span class="p">(</span><span class="n">columnAttach</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">columnWidth</span> <span class="o">=</span> <span class="mi">265</span><span class="p">)</span>

        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">columnWidth3</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;export directory:&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">textField</span><span class="p">(</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">130</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__fileDialog</span><span class="p">,</span> <span class="n">path</span><span class="p">),</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>

        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">columnWidth3</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;file prefix:&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>
        <span class="n">filePrefix</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">textField</span><span class="p">(</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">130</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">separator</span><span class="p">(</span><span class="n">h</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">style</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>

        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;---------- Animation Time ----------&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">columnWidth6</span> <span class="o">=</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;start:&#39;</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">floatField</span><span class="p">(</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">playbackOptions</span><span class="p">(</span><span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">animationStartTime</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">pre</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;end:&#39;</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">floatField</span><span class="p">(</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">playbackOptions</span><span class="p">(</span><span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">animationEndTime</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">pre</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;step:&#39;</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">floatField</span><span class="p">(</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">playbackOptions</span><span class="p">(</span><span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="n">pre</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>

        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;---------- Position ----------&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">columnWidth3</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">))</span>
        <span class="n">centerMethod</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">radioCollection</span><span class="p">()</span>
        <span class="n">avPoint</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">radioButton</span><span class="p">(</span><span class="s2">&quot;centerPoint&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">select</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">centroid</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">radioButton</span><span class="p">(</span><span class="s2">&quot;centroidPoint&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;centroid&#39;</span><span class="p">)</span>
        <span class="n">centerOBB</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">radioButton</span><span class="p">(</span><span class="s2">&quot;centerOBB&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;OBB&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">columnWidth1</span> <span class="o">=</span> <span class="mi">80</span><span class="p">)</span>
        <span class="n">jointHierarchy</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Joint Hierarchy&#39;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>

        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;---------- Orientation ----------&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">columnWidth2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="mi">130</span><span class="p">))</span>
        <span class="c1"># create dropdown menu for different alignment options</span>
        <span class="n">axisOrder</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">optionMenu</span><span class="p">(</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;axis order:&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">menuItem</span><span class="p">(</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;xyz&#39;</span> <span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">axisOrder</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">menuItem</span><span class="p">(</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;xzy&#39;</span> <span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">axisOrder</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">menuItem</span><span class="p">(</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;yxz&#39;</span> <span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">axisOrder</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">menuItem</span><span class="p">(</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;yzx&#39;</span> <span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">axisOrder</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">menuItem</span><span class="p">(</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;zxy&#39;</span> <span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">axisOrder</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">menuItem</span><span class="p">(</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;zyx&#39;</span> <span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">axisOrder</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">optionMenu</span><span class="p">(</span><span class="n">axisOrder</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">select</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">fast</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;fast calculation&#39;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>

        <span class="n">cmds</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;---------- Export ----------&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">columnWidth2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="mi">130</span><span class="p">))</span>
        <span class="n">cbCenterPoint</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Position&#39;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">cbWR</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Rotations&#39;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>

        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">columnWidth2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="mi">130</span><span class="p">))</span>
        <span class="n">cbTM</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Transformation matrix&#39;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">cbWA</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">checkBox</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Axis angles&#39;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>

        <span class="n">cmds</span><span class="o">.</span><span class="n">rowLayout</span><span class="p">(</span><span class="n">numberOfColumns</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">columnWidth2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="mi">130</span><span class="p">))</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;apply&#39;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__applyCallback</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">filePrefix</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">centerMethod</span><span class="p">,</span> <span class="n">jointHierarchy</span><span class="p">,</span> <span class="n">axisOrder</span><span class="p">,</span> <span class="n">fast</span><span class="p">,</span> <span class="n">cbCenterPoint</span><span class="p">,</span> <span class="n">cbWR</span><span class="p">,</span> <span class="n">cbTM</span><span class="p">,</span> <span class="n">cbWA</span><span class="p">),</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">80</span> <span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;cancel&#39;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__cancelCallback</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">80</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="c1">#cmds.window(&quot;wExportData&quot;, e = 1, wh = [270,125])</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">showWindow</span><span class="p">()</span>

    <span class="c1"># Invoked when the command is run.</span>
    <span class="k">def</span> <span class="nf">doIt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">argList</span><span class="p">):</span>
        <span class="c1"># get objects from argument list</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">selList</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">getArgObj</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syntax</span><span class="p">(),</span> <span class="n">argList</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No objects selected!&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># first parse all the given arguments as flags</span>
        <span class="n">argData</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">MArgParser</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">syntax</span><span class="p">(),</span> <span class="n">argList</span><span class="p">)</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentString</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">path</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Please specify output path!&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># check if path directory ends with slash</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">+=</span> <span class="s2">&quot;/&quot;</span>
        <span class="c1"># add prefix (if specified) after directory path</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentString</span><span class="p">(</span><span class="s1">&#39;filePrefix&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;filePrefix&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="n">path</span> <span class="o">+=</span> <span class="n">prefix</span>
        <span class="c1"># get flags</span>
        <span class="n">wt</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentBool</span><span class="p">(</span><span class="s1">&#39;writeTranslation&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;writeTranslation&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="n">tm</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentBool</span><span class="p">(</span><span class="s1">&#39;writeTransformM&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;writeTransformM&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="n">wa</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentBool</span><span class="p">(</span><span class="s1">&#39;writeAngles&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;writeAngles&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="n">axisOrder</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentString</span><span class="p">(</span><span class="s1">&#39;axisOrder&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;axisOrder&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="s2">&quot;yzx&quot;</span>
        <span class="n">wr</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentBool</span><span class="p">(</span><span class="s1">&#39;writeRotations&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;writeRotations&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="n">centerMethod</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentString</span><span class="p">(</span><span class="s1">&#39;centerMethod&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;centerMethod&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="s2">&quot;centerPoint&quot;</span>
        <span class="n">fast</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentBool</span><span class="p">(</span><span class="s1">&#39;fast&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;fast&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="n">jointHierarchy</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentBool</span><span class="p">(</span><span class="s1">&#39;jointHierarchy&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;jointHierarchy&#39;</span><span class="p">))</span> <span class="k">else</span> <span class="bp">True</span>

        <span class="c1"># get playback options and set current time step to beginning of animation</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentDouble</span><span class="p">(</span><span class="s1">&#39;animationStart&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;animationStart&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">cmds</span><span class="o">.</span><span class="n">playbackOptions</span><span class="p">(</span><span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">animationStartTime</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentDouble</span><span class="p">(</span><span class="s1">&#39;animationEnd&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;animationEnd&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">cmds</span><span class="o">.</span><span class="n">playbackOptions</span><span class="p">(</span><span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">animationEndTime</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">argData</span><span class="o">.</span><span class="n">flagArgumentDouble</span><span class="p">(</span><span class="s1">&#39;by&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="n">argData</span><span class="o">.</span><span class="n">isFlagSet</span><span class="p">(</span><span class="s1">&#39;by&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">cmds</span><span class="o">.</span><span class="n">playbackOptions</span><span class="p">(</span><span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">currentTime</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">selList</span><span class="p">:</span>
            <span class="c1"># user can call command with joint as argument iff actual object is direct child of joint</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">objectType</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;joint&quot;</span><span class="p">):</span>
                <span class="c1"># find transform node(s) in joint</span>
                <span class="n">obj</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cmds</span><span class="o">.</span><span class="n">listRelatives</span><span class="p">()</span> <span class="k">if</span> <span class="n">cmds</span><span class="o">.</span><span class="n">objectType</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;transform&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="n">obj</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">cmds</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;There are multiple transform nodes grouped under joint! skip object &quot;</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
                    <span class="k">continue</span>

            <span class="c1"># get rotation matrix to align object</span>
            <span class="n">rotM</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">alignObj</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ao</span> <span class="o">=</span> <span class="n">axisOrder</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">fast</span><span class="p">))</span>
            <span class="n">rotM</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
            <span class="c1"># transpose matrix and set center point for translation</span>
            <span class="n">rotM</span> <span class="o">=</span> <span class="n">rotM</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span><span class="o">.</span><span class="n">getA1</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">centerMethod</span> <span class="o">==</span> <span class="s2">&quot;centerPoint&quot;</span><span class="p">):</span>
                <span class="n">rotM</span><span class="p">[</span><span class="mi">12</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">centerPoint</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">centerMethod</span> <span class="o">==</span> <span class="s2">&quot;centroidPoint&quot;</span><span class="p">):</span>
                <span class="n">rotM</span><span class="p">[</span><span class="mi">12</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">centroidPoint</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rangeX</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">rangeObj</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="n">rotM</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
                <span class="n">rangeY</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">rangeObj</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="n">rotM</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span>
                <span class="n">rangeZ</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">rangeObj</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="n">rotM</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">11</span><span class="p">])</span>
                <span class="n">rotM</span><span class="p">[</span><span class="mi">12</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">rangeX</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">rangeX</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">rangeY</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">rangeY</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">rangeZ</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">rangeZ</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
            <span class="c1"># save and reset position and rotation of object to ensure that locator is inside object</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">translation</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">rot</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">rotation</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">translation</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
            <span class="c1"># initialize locator and set its transformation matrix</span>
            <span class="n">loc</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">spaceLocator</span><span class="p">()</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">rotM</span><span class="p">)</span>
            <span class="c1"># set parent constraint with &#39;maintainOffset&#39; flag (locator will follow objects transformations)</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">parentConstraint</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">loc</span><span class="p">,</span> <span class="n">mo</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">jointHierarchy</span><span class="p">)</span>
            <span class="c1"># reset position/rotation</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">translation</span> <span class="o">=</span> <span class="n">pos</span><span class="p">)</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">rotation</span> <span class="o">=</span> <span class="n">rot</span><span class="p">)</span>

            <span class="c1"># open output stream to files and write header information</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">wt</span><span class="p">):</span>
                <span class="n">fileMean</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.mean&quot;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
                <span class="n">fileMean</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s2">&quot;time</span><span class="se">\t\t</span><span class="s2">Tx</span><span class="se">\t</span><span class="s2">Ty</span><span class="se">\t</span><span class="s2">Tz</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">tm</span><span class="p">):</span>
                <span class="n">fileMatrix</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.matrix&quot;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
                <span class="n">fileMatrix</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s2">&quot;time</span><span class="se">\t\t</span><span class="s2">M00</span><span class="se">\t</span><span class="s2">M01</span><span class="se">\t</span><span class="s2">M02</span><span class="se">\t</span><span class="s2">M03</span><span class="se">\t</span><span class="s2">M10</span><span class="se">\t</span><span class="s2">M11</span><span class="se">\t</span><span class="s2">M12</span><span class="se">\t</span><span class="s2">M13</span><span class="se">\t</span><span class="s2">M20</span><span class="se">\t</span><span class="s2">M21</span><span class="se">\t</span><span class="s2">M22</span><span class="se">\t</span><span class="s2">M23</span><span class="se">\t</span><span class="s2">M30</span><span class="se">\t</span><span class="s2">M31</span><span class="se">\t</span><span class="s2">M32</span><span class="se">\t</span><span class="s2">M33</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">wa</span><span class="p">):</span>
                <span class="n">fileAngles</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">axisOrder</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
                <span class="n">fileAngles</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;time</span><span class="se">\t\t</span><span class="s2">Ax</span><span class="se">\t</span><span class="s2">Ay</span><span class="se">\t</span><span class="s2">Az</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">wr</span><span class="p">):</span>
                <span class="n">fileRot</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.rot&quot;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
                <span class="n">fileRot</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s2">&quot;time</span><span class="se">\t\t</span><span class="s2">Rx</span><span class="se">\t</span><span class="s2">Ry</span><span class="se">\t</span><span class="s2">Rz</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># for each frame in animation</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">+</span> <span class="n">step</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
                <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
                <span class="n">cmds</span><span class="o">.</span><span class="n">currentTime</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">wt</span><span class="p">):</span>
                    <span class="n">fileMean</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
                    <span class="n">fileMean</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">&quot;[ ]&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">translation</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)),</span> <span class="s2">&quot;,&quot;</span><span class="p">)])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">tm</span><span class="p">):</span>
                    <span class="n">fileMatrix</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
                    <span class="n">fileMatrix</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">&quot;[ ]&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">))</span> <span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">wa</span><span class="p">):</span>
                    <span class="n">fileAngles</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
                    <span class="c1"># write projected angles to file (acos of each value in main diagonal)</span>
                    <span class="n">m</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="c1"># loop over all 3 eigenvectors</span>
                    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                        <span class="c1"># slice over column</span>
                        <span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="n">e</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
                        <span class="c1"># project onto planes (x vector to xy plane, y to yz plane, z to zx plane)</span>
                        <span class="n">v</span><span class="p">[</span><span class="n">e</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="c1"># normalize projected vector</span>
                        <span class="n">v</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">div</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="n">e</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span><span class="p">[</span><span class="n">e</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="p">)]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
                        <span class="c1"># angle between current local and world space axis</span>
                        <span class="n">fileAngles</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">e</span><span class="p">])</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span> <span class="p">)</span>
                    <span class="n">fileAngles</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">wr</span><span class="p">):</span>
                    <span class="n">fileRot</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
                    <span class="n">fileRot</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">&quot;[ ]&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">rotation</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)),</span> <span class="s2">&quot;,&quot;</span><span class="p">)])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">wt</span><span class="p">):</span>
                <span class="n">fileMean</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">tm</span><span class="p">):</span>
                <span class="n">fileMatrix</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">wa</span><span class="p">):</span>
                <span class="n">fileAngles</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">wr</span><span class="p">):</span>
                <span class="n">fileRot</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>
        <span class="c1">#self.__cancelCallback()</span>

<span class="c1"># creator function</span>
<div class="viewcode-block" id="exportDataCreator"><a class="viewcode-back" href="../../pk_src.exportData.html#pk_src.exportData.exportDataCreator">[docs]</a><span class="k">def</span> <span class="nf">exportDataCreator</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">OpenMayaMPx</span><span class="o">.</span><span class="n">asMPxPtr</span><span class="p">(</span> <span class="n">exportData</span><span class="p">()</span> <span class="p">)</span></div>

<span class="c1"># syntax creator function</span>
<div class="viewcode-block" id="exportDataSyntaxCreator"><a class="viewcode-back" href="../../pk_src.exportData.html#pk_src.exportData.exportDataSyntaxCreator">[docs]</a><span class="k">def</span> <span class="nf">exportDataSyntaxCreator</span><span class="p">():</span>
    <span class="n">syntax</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="p">()</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">setObjectType</span><span class="p">(</span><span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kStringObjects</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kString</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;fp&quot;</span><span class="p">,</span> <span class="s2">&quot;filePrefix&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kString</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;cm&quot;</span><span class="p">,</span> <span class="s2">&quot;centerMethod&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kString</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;jh&quot;</span><span class="p">,</span> <span class="s2">&quot;jointHierarchy&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kBoolean</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;fast&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kBoolean</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;tm&quot;</span><span class="p">,</span> <span class="s2">&quot;writeTransformM&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kBoolean</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;wt&quot;</span><span class="p">,</span> <span class="s2">&quot;writeTranslation&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kBoolean</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;wa&quot;</span><span class="p">,</span> <span class="s2">&quot;writeAngles&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kBoolean</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;ao&quot;</span><span class="p">,</span> <span class="s2">&quot;axisOrder&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kString</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;wr&quot;</span><span class="p">,</span> <span class="s2">&quot;writeRotations&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kBoolean</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="s2">&quot;animationStart&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kDouble</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;ae&quot;</span><span class="p">,</span> <span class="s2">&quot;animationEnd&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kDouble</span><span class="p">)</span>
    <span class="n">syntax</span><span class="o">.</span><span class="n">addFlag</span><span class="p">(</span><span class="s2">&quot;by&quot;</span><span class="p">,</span> <span class="s2">&quot;animationStep&quot;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">MSyntax</span><span class="o">.</span><span class="n">kDouble</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">syntax</span></div>

<span class="c1"># create button for shelf</span>
<div class="viewcode-block" id="addButton"><a class="viewcode-back" href="../../pk_src.exportData.html#pk_src.exportData.addButton">[docs]</a><span class="k">def</span> <span class="nf">addButton</span><span class="p">(</span><span class="n">parentShelf</span><span class="p">):</span>
    <span class="n">cmds</span><span class="o">.</span><span class="n">shelfButton</span><span class="p">(</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parentShelf</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="s1">&#39;pythonFamily.png&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">exportData</span><span class="p">()</span><span class="o">.</span><span class="n">createUI</span><span class="p">,</span> <span class="n">imageOverlayLabel</span> <span class="o">=</span> <span class="s1">&#39;exp&#39;</span><span class="p">,</span> <span class="n">ann</span><span class="o">=</span><span class="s1">&#39;export absolute coordinates of each selected object for each time frame&#39;</span><span class="p">)</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Enrico Reich.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
    </div>

    

    
  </body>
</html>